Message(id='msg_01Wyde8znXqKZFzBJHDyokF5', content=[TextBlock(text="Here's the Python implementation according to the specification:\n\n```python\nimport numpy as np\n\ndef submatrix_with_n_numbers(matrix):\n    rows, cols = matrix.shape\n    count = 0\n    \n    for r1 in range(rows):\n        for r2 in range(r1, rows):\n            for c1 in range(cols):\n                for c2 in range(c1, cols):\n                    submatrix = matrix[r1:r2+1, c1:c2+1]\n                    if submatrix.size == 130:\n                        count += 1\n    \n    return count\n```\n\nThis function does the following:\n\n1. It takes a two-dimensional numpy matrix as input.\n2. It uses nested loops to generate all possible submatrices.\n3. For each submatrix, it checks if the total number of elements is exactly 130.\n4. It keeps track of the count of submatrices with 130 elements.\n5. Finally, it returns the total count of such submatrices.\n\nThe function works as follows:\n- `r1` and `r2` define the row range of the submatrix\n- `c1` and `c2` define the column range of the submatrix\n- `matrix[r1:r2+1, c1:c2+1]` extracts the submatrix\n- `submatrix.size` gives the total number of elements in the submatrix\n- If the size is 130, the count is incremented\n\nIf no submatrix with exactly 130 elements is found, the function will return 0.", type='text')], model='claude-3-5-haiku-20241022', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(input_tokens=131, output_tokens=382))