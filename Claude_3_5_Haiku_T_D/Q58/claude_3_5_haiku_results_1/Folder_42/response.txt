Message(id='msg_01GVJTXGvuALsA3KcCHUMZAT', content=[TextBlock(text="Here's the Python implementation:\n\n```python\nimport numpy as np\n\ndef submatrix_with_n_numbers(matrix):\n    rows, cols = matrix.shape\n    count = 0\n    \n    for r1 in range(rows):\n        for r2 in range(r1, rows):\n            for c1 in range(cols):\n                for c2 in range(c1, cols):\n                    submatrix = matrix[r1:r2+1, c1:c2+1]\n                    if submatrix.size == 193:\n                        count += 1\n    \n    return count\n```\n\nThis function does the following:\n\n1. It takes a 2D numpy matrix as input.\n\n2. It uses nested loops to generate all possible submatrices by selecting starting and ending row and column indices.\n\n3. For each possible submatrix:\n   - It extracts the submatrix using numpy array slicing\n   - Checks if the submatrix size is exactly 193\n   - If the size is 193, it increments the count\n\n4. After checking all possible submatrices, it returns the total count.\n\n5. If no submatrix with 193 integers is found, it returns 0.\n\nThe function uses numpy's built-in matrix slicing and `.size` attribute to efficiently check submatrices.", type='text')], model='claude-3-5-haiku-20241022', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(input_tokens=131, output_tokens=316))