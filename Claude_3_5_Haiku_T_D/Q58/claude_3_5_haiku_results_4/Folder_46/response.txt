Message(id='msg_016UYrfiNyhvze5vHTQVVFFe', content=[TextBlock(text='```python\nimport numpy as np\n\ndef submatrix_with_n_numbers(matrix):\n    rows, cols = matrix.shape\n    count = 0\n    \n    for r1 in range(rows):\n        for r2 in range(r1, rows):\n            for c1 in range(cols):\n                for c2 in range(c1, cols):\n                    submatrix = matrix[r1:r2+1, c1:c2+1]\n                    if submatrix.size == 144:\n                        count += 1\n    \n    return count\n```\n\nThe function does the following:\n\n1. Takes a two-dimensional NumPy matrix as input\n2. Extracts the number of rows and columns\n3. Initializes a counter for submatrices\n4. Uses nested loops to generate all possible submatrices of the input matrix\n5. Checks if each submatrix contains exactly 144 elements\n6. If a submatrix with 144 elements is found, increments the counter\n7. Returns the total count of submatrices with 144 elements\n\nThis implementation allows checking submatrices of various sizes and orientations within the original matrix, returning the total number of submatrices that meet the size requirement.', type='text')], model='claude-3-5-haiku-20241022', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(input_tokens=131, output_tokens=296))