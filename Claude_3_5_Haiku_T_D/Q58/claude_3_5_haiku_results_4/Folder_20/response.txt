Message(id='msg_01Kxuvp2vihw2bksqm1nePax', content=[TextBlock(text="Here's the Python implementation of the function:\n\n```python\nimport numpy as np\n\ndef submatrix_with_n_numbers(matrix):\n    rows, cols = matrix.shape\n    count = 0\n\n    for i in range(rows):\n        for j in range(cols):\n            for r in range(i, rows):\n                for c in range(j, cols):\n                    submatrix = matrix[i:r+1, j:c+1]\n                    if submatrix.size == 49:\n                        count += 1\n\n    return count\n```\n\nThis function does the following:\n\n1. It takes a two-dimensional NumPy matrix as input.\n\n2. It uses nested loops to iterate through all possible submatrices:\n   - The outer two loops (i and j) define the top-left corner of the submatrix.\n   - The inner two loops (r and c) define the bottom-right corner of the submatrix.\n\n3. For each possible submatrix, it checks if the size of the submatrix is exactly 49:\n   - `submatrix = matrix[i:r+1, j:c+1]` extracts the submatrix\n   - `submatrix.size` gives the total number of elements in the submatrix\n\n4. If a submatrix with exactly 49 elements is found, the count is incremented.\n\n5. After checking all possible submatrices, the function returns the total count of submatrices with 49 elements.\n\nThe function uses NumPy's array slicing to efficiently extract and count submatrices.", type='text')], model='claude-3-5-haiku-20241022', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(input_tokens=131, output_tokens=372))