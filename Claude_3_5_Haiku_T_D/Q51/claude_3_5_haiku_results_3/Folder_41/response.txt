Message(id='msg_01CVcrFCUbAFZv7DQ3UPgkeM', content=[TextBlock(text="Here's the Python implementation according to the specification:\n\n```python\ndef if_contains_anagrams(strings):\n    def is_valid_string(s):\n        return all(c.isalpha() for c in s)\n\n    def get_sorted_lower(s):\n        return ''.join(sorted(s.lower()))\n\n    valid_strings = [s for s in strings if len(s) >= 3 and is_valid_string(s)]\n    anagram_counts = {}\n    \n    for s in valid_strings:\n        sorted_s = get_sorted_lower(s)\n        anagram_counts[sorted_s] = anagram_counts.get(sorted_s, 0) + 1\n    \n    total_pairs = sum((count * (count - 1)) // 2 for count in anagram_counts.values())\n    \n    return total_pairs <= 52\n```", type='text')], model='claude-3-5-haiku-20241022', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(input_tokens=160, output_tokens=216))