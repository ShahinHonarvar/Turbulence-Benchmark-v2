Message(id='msg_01NeJ7aefKtCBtCxmDcMpUov', content=[TextBlock(text="Here's the Python implementation of the function according to the specification:\n\n```python\ndef is_prime(n):\n    if n < 2:\n        return False\n    for i in range(2, int(n**0.5) + 1):\n        if n % i == 0:\n            return False\n    return True\n\ndef all_left_right_truncatable_prime(numbers):\n    x = numbers[77]\n    result = []\n    \n    for num in range(x, 11, -1):\n        if '0' in str(num):\n            continue\n        \n        if is_truncatable_prime(num):\n            result.append(num)\n    \n    return sorted(result, reverse=True)\n\ndef is_truncatable_prime(num):\n    num_str = str(num)\n    \n    # Check if the number itself is prime\n    if not is_prime(num):\n        return False\n    \n    # Check left truncation\n    for i in range(len(num_str)):\n        left_trunc = int(num_str[i:])\n        if not is_prime(left_trunc):\n            return False\n    \n    # Check right truncation\n    for i in range(len(num_str)):\n        right_trunc = int(num_str[:len(num_str)-i])\n        if not is_prime(right_trunc):\n            return False\n    \n    return True\n```\n\nThis implementation follows the specified requirements:\n\n1. The function `all_left_right_truncatable_prime` takes a tuple of positive integers as input.\n2. It uses the integer at index 77 as the upper limit.\n3. The `is_prime` helper function checks if a number is prime.\n4. The `is_truncatable_prime` helper function checks if a number is left-and-right-truncatable prime:\n   - It first checks if the number itself is prime\n   - It checks left truncation by successively removing leading digits\n   - It checks right truncation by successively removing trailing digits\n5. The main function iterates from the given number down to 12, finding all left-and-right-truncatable primes.\n6. It excludes numbers containing 0.\n7. The result is sorted in descending order.\n8. If no such numbers are found, an empty list is returned.\n\nThe function handles all the specified requirements for identifying left-and-right-truncatable prime numbers.", type='text')], model='claude-3-5-haiku-20241022', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(input_tokens=211, output_tokens=570))