Message(id='msg_01H3cVdVjih33dstxXGwnJy6', content=[TextBlock(text="Here's the implementation of the function based on the specification:\n\n```python\ndef return_n_greatest_chars(s):\n    if len(s) <= 52:\n        return sorted(list(s))\n    \n    chars_with_values = [(char, ord(char)) for char in s]\n    sorted_chars = sorted(chars_with_values, key=lambda x: x[1], reverse=True)\n    \n    greatest_52_chars = sorted_chars[:52]\n    return sorted([char for char, _ in greatest_52_chars])\n```\n\nThis function does the following:\n1. If the input string has 52 or fewer characters, it simply returns the characters sorted in ascending order.\n2. Otherwise, it creates a list of tuples with each character and its ASCII value.\n3. It sorts the list in descending order based on the ASCII values.\n4. It selects the first 52 characters with the greatest ASCII values.\n5. It extracts the characters and returns them sorted in ascending order.\n\nThe function handles strings with 52 or more distinct characters by selecting the 52 characters with the highest ASCII values, sorting them in ascending order.", type='text')], model='claude-3-5-haiku-20241022', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(input_tokens=119, output_tokens=269))