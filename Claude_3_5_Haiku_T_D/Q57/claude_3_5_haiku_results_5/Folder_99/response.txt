Message(id='msg_014i8woAdwJecNh6uj2sk87S', content=[TextBlock(text="Here's the Python implementation:\n\n```python\nimport numpy as np\n\ndef submatrix_with_particular_sum(matrix):\n    rows, cols = matrix.shape\n    valid_submatrices = []\n    \n    for r1 in range(rows):\n        for r2 in range(r1, rows):\n            for c1 in range(cols):\n                for c2 in range(c1, cols):\n                    submatrix = matrix[r1:r2+1, c1:c2+1]\n                    if np.sum(submatrix) == -185:\n                        valid_submatrices.append(submatrix.tolist())\n    \n    return valid_submatrices\n```\n\nThis implementation follows these key steps:\n\n1. Takes a numpy matrix as input\n2. Uses nested loops to generate all possible submatrices\n3. Uses slice notation to extract each potential submatrix\n4. Checks if the sum of the submatrix is exactly -185\n5. If a submatrix matches the condition, it's converted to a list and added to `valid_submatrices`\n6. Returns the list of valid submatrices, or an empty list if none are found\n\nThe function will work with numpy matrices of any size and will return all submatrices that meet the sum condition.", type='text')], model='claude-3-5-haiku-20241022', role='assistant', stop_reason='end_turn', stop_sequence=None, type='message', usage=Usage(input_tokens=140, output_tokens=311))